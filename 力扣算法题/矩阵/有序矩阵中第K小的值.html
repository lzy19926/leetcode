<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>

        // 给出一个矩阵
        // 矩阵的每行都递增   每列都递增


        // 方案一,
        // 直接获取矩阵中所有元素, 排序即可


        // 方案二: 
        // 二分查找   见notion的笔记(二分查找有序矩阵)


        // 计算矩阵中小于midVal的数量
        const countInMatrix = (matrix, midVal) => {
            const n = matrix.length;            // 这题是方阵 n行n列
            let count = 0;
            let row = 0;                        // 第一行
            let col = n - 1;                    // 最后一列
            while (row < n && col >= 0) {
                if (midVal >= matrix[row][col]) { // 大于等于当前行的最右
                    count += col + 1;               // 不大于它的数增加col + 1个
                    row++;                          // 比较下一行
                } else {                          // 干不过当前行的最右元素
                    col--;                          // 留在当前行，比较左边一个
                }
            }
            return count;
        };

        // 二分法查找第k大的值   (每次/2后  删去一边)
        const kthSmallest = (matrix, k) => {
            const n = matrix.length;
            let low = matrix[0][0];
            let high = matrix[n - 1][n - 1];


            while (low <= high) {
                let midVal = low + ((high - low) >>> 1);   // 获取中间值
                let count = countInMatrix(matrix, midVal); // 矩阵中小于等于它的个数
                if (count < k) {
                    low = midVal + 1;
                } else {
                    high = midVal - 1;
                }
            }
            return low;
        };

    </script>
</body>

</html>